# Plan 03-01: Remove Legacy RandomState Fallback

## Frontmatter

```yaml
wave: 1
depends_on: []
files_modified:
  - cogrid/envs/search_rescue/sr_utils.py
autonomous: true
```

## Objective

Remove the legacy `np.random.RandomState` fallback in `generate_sr_grid()`. The function should require `np_random` to be passed explicitly, ensuring all randomness flows from a single seeded source.

## Context

**Problem:** [sr_utils.py:20-21](../../cogrid/envs/search_rescue/sr_utils.py#L20) has a fallback that creates an unseeded `RandomState`:
```python
if np_random is None:
    np_random = np.random.RandomState(seed=42)
```

**Finding:** This function is currently **unused** in the codebase â€” Search & Rescue environments use fixed layouts. However, the fallback is still problematic if the function is ever used.

**Fix:** Remove the fallback, require `np_random` to be passed explicitly.

## Tasks

<task id="1">
Edit cogrid/envs/search_rescue/sr_utils.py to require np_random.

Change lines 18-21 from:
```python
def generate_sr_grid(
    shape=None,
    load=None,
    num_green=4,
    num_yellow=3,
    num_red=2,
    num_agents=2,
    populate_rubble=True,
    np_random=None,
):
    if np_random is None:
        np_random = np.random.RandomState(seed=42)
```

To:
```python
def generate_sr_grid(
    shape=None,
    load=None,
    num_green=4,
    num_yellow=3,
    num_red=2,
    num_agents=2,
    populate_rubble=True,
    np_random=None,
):
    if np_random is None:
        raise ValueError("np_random is required for deterministic grid generation")
```
</task>

<task id="2">
Run existing tests to verify no regressions (since function is unused, tests should pass):

```bash
pytest cogrid/envs/search_rescue/ -v
```
</task>

## Verification

```bash
# All S&R tests pass
pytest cogrid/envs/search_rescue/ -v

# Grep confirms no RandomState fallback
grep -n "RandomState" cogrid/envs/search_rescue/sr_utils.py
# Should return empty
```

## must_haves

- [ ] `np.random.RandomState` fallback removed from sr_utils.py
- [ ] `generate_sr_grid` raises ValueError if np_random not provided
- [ ] Existing S&R tests still pass
